@page "/ProductsByCategory/{CategoryId:int}"
@inherits ProductsByCategoryBase

@if (Products == null && ErrorMessage == null)
{
    <DisplaySpinner />
}
else if (ErrorMessage != null) 
{
    <DisplayError ErrorMessage="@ErrorMessage" />
}
else
{
    <div class="row mt-3">
        <h3>@CategoryName</h3>
        @if (Products.Count() > 0)
        {
            <DisplayProducts Products="@Products" />
        }
        else
        {
            <p>No products in this category.</p>
        }
    </div>
}